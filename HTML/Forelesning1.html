<script>

    function createNewProduct(event) {
        event.preventDefault();

        const productName = document.querySelector("[name='productName']").value; // Spesifisere et sett med objekter, (finn et element p√• siden som har attributer name med verdi productName)
        const category = document.querySelector("[name='category']").value;
        const price = document.querySelector("[name='price']").value;
        const picture = document.querySelector("[name='picture']");
        const description = document.querySelector("[name='description']").value;

        const product = {
            productName, category, price, picture, description
        };

        console.log(product);

        const productList = [product];
        window.localStorage.setItem("productList", JSON.stringify(productList));

        event.target.reset();
    }

</script>

<h1>Welcome to the webshop</h1 <h2>Add a product</h2>

<form onsubmit="createNewProduct(event)">
    <input name="productName" , placeholder="name" />
    <input name="category" , placeholder="Category" />
    <input name="price" , placeholder="12.99" />
    <input type="file" name="picture" placeholder="Legg til bilde" />
    <textarea name="description" , placeholder="Description"></textarea>
    <input type="submit" />
</form>

<h2>Here are the products</h2>

<div id="productList"></div>

<script>

    const productList = JSON.parse(window.localStorage.getItem("productList"));

    const productListEl = document.getElementById("productList");

    for (const product of productList) {
        const productEl = document.createElement("div");
        productEl.innerText = product.productName + " price: " + product.price + ", description: " + product.description + " " + product.category;
        productListEl.appendChild(productEl);
    }

</script>